<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aprèn HTML Interactiu (Responsiu)</title>

    <!-- Bootstrap i icones -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" href="../styles.css">

    <!-- Estils personalitzats -->
    <style>
        :root {
            --padding-base: 10px;
        }

        body, html {
            height: 100%;
            margin: 0;
            display: flex;
            flex-direction: column;
        }

        main {
            flex-grow: 1;
        }

        #html-code, #render-frame {
            width: 100%;
            resize: none;
            font-family: monospace;
            border-radius: 5px;
            border: 1px solid #ccc;
            padding: 5px;
            min-height: 200px;
            box-sizing: border-box;
        }

        #repl-container {
            display: flex;
            flex-direction: column;
        }

        #output-section {
            padding: var(--padding-base);
            box-sizing: border-box;
        }

        iframe {
            background-color: white;
            width: 100%;
            border: 1px solid #ccc;
        }

        @media (max-width: 768px) {
            #html-code, #render-frame {
                min-height: 150px;
            }
        }
    </style>
</head>
<body>
    <div id="navbar-placeholder"></div>

    <main class="container py-4">
        <h1 class="mb-4">Aprèn HTML de Forma Interactiva</h1>

        <div id="repl-container">
            <div class="mb-3">
                <label for="exemple-selector" class="form-label">
                    Tria un exemple per aprendre o comença des de zero:
                </label>
                <select id="exemple-selector" class="form-select">
                    <option value="titols">1. Títols (h1 a h6)</option>
                    <option value="paragrafs">2. Paràgrafs i Salts de Línia</option>
                    <option value="format">3. Format de Text (negreta, cursiva)</option>
                    <option value="enllacos">4. Enllaços (Links)</option>
                    <option value="imatges">5. Imatges</option>
                    <option value="llistes_ul">6. Llistes Desordenades</option>
                    <option value="llistes_ol">7. Llistes Ordenades</option>
                    <option value="taules">8. Taules</option>
                    <option value="formularis_text">9. Formularis (Camps de Text)</option>
                    <option value="formularis_botons">10. Formularis (Botons i Opcions)</option>
                    <option value="semantica">11. Elements Semàntics</option>
                    <option value="div_span">12. Contenidors (div i span)</option>
                    <option value="atributs">13. Atributs (style, id, class)</option>
                    <option value="comentaris">14. Comentaris</option>
                    <option value="iframe">15. Incrustar Iframes</option>
                    <option value="entitats">16. Entitats HTML (&lt; &gt; &amp;)</option>
                    <option value="video">17. Element de Vídeo</option>
                    <option value="audio">18. Element d'Àudio</option>
                    <option value="details">19. Contingut Desplegable (details)</option>
                    <option value="propi">20. Codi Propi (en blanc)</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="html-code" class="form-label">Codi HTML:</label>
                <textarea id="html-code" rows="12" class="form-control" spellcheck="false"></textarea>
            </div>

            <button id="render-btn" class="btn btn-primary mb-4">Renderitza el Codi</button>
        </div>

        <div id="output-section">
            <label for="render-frame" class="form-label">Resultat Visual:</label>
            <iframe id="render-frame" height="300" title="Resultat del codi HTML"></iframe>
        </div>
    </main>

    <!-- JS d'interacció -->
    <script>
        const htmlExamples = {
            titols: `<h1>Títol de nivell 1</h1><h2>Títol de nivell 2</h2><h3>Títol de nivell 3</h3>`,
            paragrafs: `<p>Això és un paràgraf de text.<br>L'etiqueta &lt;br&gt; força un salt de línia.</p>`,
            format: `<p>Text en <b>negreta</b> i en <i>cursiva</i>.</p><p>Millor usar <strong>strong</strong> per a importància i <em>em</em> per a èmfasi.</p>`,
            enllacos: `<a href="https://ca.wikipedia.org" target="_blank">Ves a la Viquipèdia</a>`,
            imatges: `<img src="https://via.placeholder.com/250x100" alt="Exemple d'imatge">`,
            llistes_ul: `<ul><li>Pomes</li><li>Pa</li><li>Llet</li></ul>`,
            llistes_ol: `<ol><li>Barrejar ingredients</li><li>Posar al forn</li><li>Deixar refredar</li></ol>`,
            taules: `<table border="1"><tr><th>Nom</th><th>Edat</th></tr><tr><td>Jordi</td><td>32</td></tr></table>`,
            formularis_text: `<form><label for="nom">Nom:</label><input type="text" id="nom" name="nom"><br><label for="email">Email:</label><input type="email" id="email" name="email"></form>`,
            formularis_botons: `<form><input type="radio" id="op1" name="opcions" value="1"><label for="op1">Opció 1</label><br><input type="checkbox" id="accepto" name="accepto"><label for="accepto">Accepto les condicions</label><br><input type="submit" value="Enviar"></form>`,
            semantica: `<header><h1>Títol de la pàgina</h1></header><main><p>Contingut principal.</p></main><footer><p>Copyright 2025</p></footer>`,
            div_span: `<div style="background:lightblue; padding:10px;"><h2>Contenidor DIV</h2><p>Agrupa altres elements.</p></div><p>Usa <span style="color:red;">SPAN</span> per estilar text.</p>`,
            atributs: `<p style="color:green;">Paràgraf amb estil.</p><h2 id="titol-principal">Títol amb ID</h2><p class="text-destacat">Paràgraf amb una classe.</p>`,
            comentaris: `<p>Aquesta línia sí que es veu.</p> <!-- Comentari HTML -->`,
            iframe: `<iframe src="https://www.openstreetmap.org/export/embed.html?bbox=2.15,41.38,2.19,41.40" width="300" height="200" style="border:1px solid black;"></iframe>`,
            entitats: `<p>Per escriure &lt;p&gt; literalment, has d'usar &amp;lt;p&amp;gt;.</p>`,
            video: `<video width="320" height="240" controls><source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">El teu navegador no suporta l'etiqueta de vídeo.</video>`,
            audio: `<audio controls><source src="https://www.w3schools.com/html/horse.ogg" type="audio/ogg">El teu navegador no suporta l'etiqueta d'àudio.</audio>`,
            details: `<details><summary>Què és HTML?</summary><p>HTML és el llenguatge de marcat estàndard per a crear pàgines web.</p></details>`,
            propi: `<!DOCTYPE html><html lang="ca"><head><title>La Meva Pàgina</title></head><body><h1>Hola, món!</h1><p>Escriu aquí el teu propi codi HTML.</p></body></html>`
        };

        const selector = document.getElementById('exemple-selector');
        const codeArea = document.getElementById('html-code');
        const renderFrame = document.getElementById('render-frame');
        const renderBtn = document.getElementById('render-btn');

        function renderHtml() {
            const code = codeArea.value;
            const iframeDoc = renderFrame.contentWindow.document;
            iframeDoc.open();
            iframeDoc.write(code);
            iframeDoc.close();
        }

        function updateCodeArea() {
            const selectedExample = selector.value;
            codeArea.value = htmlExamples[selectedExample];
            renderHtml();
        }

        selector.addEventListener('change', updateCodeArea);
        renderBtn.addEventListener('click', renderHtml);

        // Inicialitzar
        updateCodeArea();
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../navbar.js"></script>
</body>
</html>

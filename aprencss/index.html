<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Aprèn CSS Interactiu</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      background-color: #f8f9fa;
      font-family: system-ui, sans-serif;
    }

    textarea {
      font-family: monospace;
      font-size: 14px;
      resize: none;
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    .panel {
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .panel textarea {
      flex-grow: 1;
    }

    @media (max-width: 768px) {
      .panel {
        margin-bottom: 1rem;
      }
    }
  </style>
</head>
<body>
  <header class="bg-white border-bottom py-3 mb-4">
    <div class="container">
      <h1 class="h3 mb-3">Aprèn CSS de Forma Interactiva</h1>
      <div class="row g-2 align-items-center">
        <div class="col-md-auto">
          <label for="exemple-selector" class="form-label fw-bold mb-0">Tria un exemple:</label>
        </div>
        <div class="col-md-4">
          <select id="exemple-selector" class="form-select">
            <option value="color_text">1. Color del text</option>
            <option value="fons">2. Fons personalitzat</option>
            <option value="marges_padding">3. Marges i farciments</option>
            <option value="borde">4. Bordes</option>
            <option value="fonts">5. Fonts personalitzades</option>
            <option value="hover">6. Pseudo-classe :hover</option>
            <option value="id_class">7. Selectors per ID i classe</option>
            <option value="display">8. Display: block, inline, none</option>
            <option value="flex">9. Flexbox bàsic</option>
            <option value="grid">10. Grid bàsic</option>
            <option value="media_queries">11. Media Queries</option>
            <option value="zindex">12. Z-index i capes</option>
            <option value="posicio">13. Posicionament absolut i relatiu</option>
            <option value="transicions">14. Transicions</option>
            <option value="transformacions">15. Transformacions (rotate, scale)</option>
            <option value="animacions">16. Animacions @keyframes</option>
            <option value="llistes">17. Estils de llistes</option>
            <option value="formularis">18. Estilitzar formularis</option>
            <option value="variables">19. Variables CSS</option>
            <option value="propi">20. Codi Propi</option>
          </select>
        </div>
        <div class="col-md-auto">
          <button id="render-btn" class="btn btn-success">Renderitza el Codi</button>
        </div>
      </div>
    </div>
  </header>

  <main class="container mb-5">
    <div class="row">
      <div class="col-md-6 panel">
        <div class="card h-100">
          <div class="card-header bg-light fw-bold">Codi CSS + HTML</div>
          <div class="card-body p-2">
            <textarea id="css-code" rows="20" class="form-control" spellcheck="false"></textarea>
          </div>
        </div>
      </div>
      <div class="col-md-6 panel">
        <div class="card h-100">
          <div class="card-header bg-light fw-bold">Resultat Visual</div>
          <div class="card-body p-0">
            <iframe id="render-frame"></iframe>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script>
    const cssExamples = {
      color_text: `<style>p { color: red; }</style><p>Aquest text és vermell gràcies al CSS.</p>`,
      fons: `<style>body { background-color: #e0f7fa; } h1 { background-color: yellow; }</style><h1>Títol amb fons</h1>`,
      marges_padding: `<style>div { margin: 20px; padding: 15px; background: lightblue; }</style><div>Element amb marge i farciment.</div>`,
      borde: `<style>p { border: 2px solid green; padding: 10px; }</style><p>Paràgraf amb borde verd.</p>`,
      fonts: `<style>p { font-family: 'Courier New', monospace; font-size: 18px; }</style><p>Text amb font Courier.</p>`,
      hover: `<style>button:hover { background-color: orange; color: white; }</style><button>Passa el cursor per sobre meu!</button>`,
      id_class: `<style>#principal { color: blue; } .destacat { font-weight: bold; }</style><p id="principal">Text amb ID.</p><p class="destacat">Text amb classe.</p>`,
      display: `<style>.bloc { display: block; } .en-linia { display: inline; background: yellow; }</style><div class="bloc">Bloc</div><span class="en-linia">En línia</span>`,
      flex: `<style>.contenidor { display: flex; gap: 10px; } .element { background: lightgreen; padding: 10px; flex: 1; }</style><div class="contenidor"><div class="element">1</div><div class="element">2</div><div class="element">3</div></div>`,
      grid: `<style>.grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; } .cel·la { background: #ddd; padding: 20px; }</style><div class="grid"><div class="cel·la">A</div><div class="cel·la">B</div></div>`,
      media_queries: `<style>body { background: lightblue; } @media (max-width: 600px) { body { background: lightpink; } }</style><p>Canvia de color si redueixes la finestra.</p>`,
      zindex: `<style>.baix { position: absolute; top: 20px; left: 20px; z-index: 1; background: yellow; padding: 10px; } .alt { position: absolute; top: 40px; left: 40px; z-index: 2; background: red; padding: 10px; color: white; }</style><div class="baix">Baix</div><div class="alt">Dalt</div>`,
      posicio: `<style>.contenidor { position: relative; height: 150px; background: #eee; } .absolut { position: absolute; top: 20px; left: 20px; background: orange; padding: 5px; }</style><div class="contenidor"><div class="absolut">Absolut</div></div>`,
      transicions: `<style>div { width: 100px; height: 100px; background: green; transition: background 0.5s; } div:hover { background: purple; }</style><div></div>`,
      transformacions: `<style>div { width: 100px; height: 100px; background: coral; transform: rotate(15deg); }</style><div></div>`,
      animacions: `<style>@keyframes moure { 0% { left: 0; } 100% { left: 100px; } } div { position: relative; background: steelblue; width: 50px; height: 50px; animation: moure 2s infinite alternate; }</style><div></div>`,
      llistes: `<style>ul { list-style-type: square; padding-left: 20px; }</style><ul><li>Primer</li><li>Segon</li></ul>`,
      formularis: `<style>input { padding: 10px; border: 1px solid #ccc; } input:focus { border-color: dodgerblue; }</style><input type="text" placeholder="Escriu aquí">`,
      variables: `<style>:root { --color-principal: #ff5722; } h1 { color: var(--color-principal); }</style><h1>Text amb variable CSS</h1>`,
      propi: `<style>body { background: #f4f4f4; } h1 { color: teal; }</style><h1>El teu propi codi aquí!</h1><p>Pots escriure qualsevol HTML + CSS.</p>`
    };

    const selector = document.getElementById('exemple-selector');
    const codeArea = document.getElementById('css-code');
    const renderFrame = document.getElementById('render-frame');
    const renderBtn = document.getElementById('render-btn');

    function renderCss() {
      const code = codeArea.value;
      const doc = renderFrame.contentWindow.document;
      doc.open();
      doc.write(code);
      doc.close();
    }

    function updateCodeArea() {
      const selected = selector.value;
      codeArea.value = cssExamples[selected];
      renderCss();
    }

    selector.addEventListener('change', updateCodeArea);
    renderBtn.addEventListener('click', renderCss);
    updateCodeArea(); // Inicialitza amb el primer exemple
  </script>
</body>
</html>
